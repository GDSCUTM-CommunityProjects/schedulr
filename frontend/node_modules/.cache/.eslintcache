[{"C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\index.js":"1","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\App.js":"2","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\pages\\HomePage.js":"3","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\pages\\LoginPage.js":"4","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\components\\Header.js":"5","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\utils\\PrivateRoute.js":"6","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\context\\AuthContext.js":"7","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\index.js":"8","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\App.js":"9","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\pages\\LoginPage.js":"10","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\utils\\PrivateRoute.js":"11","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\pages\\HomePage.js":"12","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\components\\Header.js":"13","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\context\\AuthContext.js":"14"},{"size":274,"mtime":1668134544999,"results":"15","hashOfConfig":"16"},{"size":652,"mtime":1668139900564,"results":"17","hashOfConfig":"16"},{"size":920,"mtime":1668148771232,"results":"18","hashOfConfig":"16"},{"size":496,"mtime":1668140640307,"results":"19","hashOfConfig":"16"},{"size":492,"mtime":1668143852499,"results":"20","hashOfConfig":"16"},{"size":373,"mtime":1668143233287,"results":"21","hashOfConfig":"16"},{"size":2949,"mtime":1668148920929,"results":"22","hashOfConfig":"16"},{"size":274,"mtime":1668134544999,"results":"23","hashOfConfig":"24"},{"size":652,"mtime":1668139900564,"results":"25","hashOfConfig":"24"},{"size":496,"mtime":1668140640307,"results":"26","hashOfConfig":"24"},{"size":373,"mtime":1668143233287,"results":"27","hashOfConfig":"24"},{"size":920,"mtime":1668148771232,"results":"28","hashOfConfig":"24"},{"size":492,"mtime":1668143852499,"results":"29","hashOfConfig":"24"},{"size":2949,"mtime":1668148920929,"results":"30","hashOfConfig":"24"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yj4xsh",{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1x65zgw",{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\index.js",[],[],"C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\App.js",["77"],[],"\nimport './App.css';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport HomePage from './pages/HomePage'; \nimport LoginPage from './pages/LoginPage';\nimport Header from './components/Header';\nimport PrivateRoute from './utils/PrivateRoute';\n\nimport { AuthProvider } from './context/AuthContext';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n    <AuthProvider>\n    <Header />\n\n        <Routes>\n          <Route element= {<PrivateRoute><HomePage/></PrivateRoute>} path=\"/\" exact/>\n          <Route element={ <LoginPage />} path=\"/login\"/>\n        </Routes>\n</AuthProvider>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\pages\\HomePage.js",["78","79"],[],"import React, {useState, useEffect, useContext} from 'react'\r\nimport AuthContext from '../context/AuthContext';\r\n\r\n\r\nconst HomePage = () => {\r\n  let [note, setNotes] = useState([]);\r\n  let {authTokens, logoutUser } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\ngetNotes();\r\n  }, [])\r\n\r\n  let getNotes = async () => {\r\n\r\n    let response = await fetch('http://127.0.0.1:8000/api/notes',\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${authTokens.access}`\r\n    }})\r\n    let data = await response.json();\r\n\r\n    if(response.status === 200){\r\n      setNotes(data);\r\n  }else if(response.statusText == 'Unauthorized'){\r\n    logoutUser();\r\n\r\n  }\r\n  \r\n\r\n}\r\n\r\n  return (\r\n    <div>\r\n       <ul>\r\n        {note.map(note => (\r\n          <li key={note.id}>{note.body}</li>\r\n        ))}\r\n        </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\pages\\LoginPage.js",[],[],"C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\components\\Header.js",[],[],"C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\utils\\PrivateRoute.js",["80"],[],"import { Route, Navigate } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport  AuthContext  from '../context/AuthContext';\r\n\r\nconst PrivateRoute = ({children}) => {\r\n\r\n    console.log(\"privare route works\");\r\n\r\n    let {user} = useContext(AuthContext);\r\n\r\n  return (\r\n    user ? children : <Navigate to=\"/login\" />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute;","C:\\GDSC_community\\authPractice\\gdscLoginthing\\frontend\\src\\context\\AuthContext.js",["81"],[],"import { createContext,useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport default AuthContext;\r\n\r\n\r\nexport const AuthProvider = ({children}) => {\r\n\r\n    \r\n    let [authTokens, setAuthTokens] = useState(() => localStorage.getItem('authTokens') ? JSON.parse(localStorage.getItem('authTokens')) : null);\r\n    let [user, setUser] = useState(() => localStorage.getItem('authTokens') ? jwt_decode(localStorage.getItem('authTokens')) : null);\r\n    let [loading, setLoading] = useState(true);\r\n\r\n\r\n    const navigate = useNavigate();\r\n\r\n    let loginUser = async (e ) => {\r\n        e.preventDefault();\r\n        let respone = await fetch('http://127.0.0.1:8000/api/token/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({username: e.target.username.value, password: e.target.password.value})\r\n         } )\r\n\r\n         let data = await respone.json();\r\n         console.log('data: ', data);\r\n\r\n         if (respone.status === 200){\r\n             setAuthTokens(data);\r\n             setUser(jwt_decode(data.access));\r\n             localStorage.setItem('authTokens', JSON.stringify(data));\r\n             navigate('/');\r\n         } else {\r\n             alert('incorrect username or password');\r\n         }\r\n    }\r\n\r\n    let logoutUser = () => {\r\n        setAuthTokens(null);\r\n        setUser(null);\r\n        localStorage.removeItem('authTokens');\r\n        navigate('/login');\r\n\r\n    }\r\n\r\n    let updateToken = async () => {\r\n        console.log('update token called');\r\n        let respone = await fetch('http://127.0.0.1:8000/api/token/refresh/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({'refresh': authTokens.refresh?.refresh})\r\n         } )\r\n\r\n         let data = await respone.json();\r\n\r\n         if (respone.status === 200){\r\n             setAuthTokens(data);\r\n             setUser(jwt_decode(data.access));\r\n             localStorage.setItem('authTokens', JSON.stringify(data));\r\n         } else {\r\n             logoutUser();\r\n         }\r\n\r\n         if(loading){\r\n             setLoading(false);\r\n         }\r\n\r\n    }\r\n\r\n    let contextData = {\r\n        user: user,\r\n        authTokens: authTokens,\r\n        loginUser: loginUser,\r\n        logoutUser: logoutUser,\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        let FourMinutes = 4 * 60 * 1000;\r\n       let interval = setInterval(() => {\r\n            if (authTokens) {\r\n                updateToken();\r\n            }\r\n         }, FourMinutes )\r\n         return () => clearInterval(interval);\r\n\r\n    }, [authTokens, loading])\r\n\r\n    return (\r\n        <AuthContext.Provider value={contextData}>\r\n            {children}\r\n            </AuthContext.Provider>\r\n    )\r\n}","C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\index.js",[],[],"C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\App.js",["82"],[],"C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\pages\\LoginPage.js",[],[],"C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\utils\\PrivateRoute.js",["83"],[],"C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\pages\\HomePage.js",["84","85"],[],"C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\components\\Header.js",[],[],"C:\\GDSC_community\\gitty\\schedulr\\frontend\\src\\context\\AuthContext.js",["86"],[],{"ruleId":"87","severity":1,"message":"88","line":3,"column":27,"nodeType":"89","messageId":"90","endLine":3,"endColumn":33},{"ruleId":"91","severity":1,"message":"92","line":11,"column":6,"nodeType":"93","endLine":11,"endColumn":8,"suggestions":"94"},{"ruleId":"95","severity":1,"message":"96","line":26,"column":32,"nodeType":"97","messageId":"98","endLine":26,"endColumn":34},{"ruleId":"87","severity":1,"message":"99","line":1,"column":10,"nodeType":"89","messageId":"90","endLine":1,"endColumn":15},{"ruleId":"91","severity":1,"message":"100","line":96,"column":8,"nodeType":"93","endLine":96,"endColumn":29,"suggestions":"101"},{"ruleId":"87","severity":1,"message":"88","line":3,"column":27,"nodeType":"89","messageId":"90","endLine":3,"endColumn":33},{"ruleId":"87","severity":1,"message":"99","line":1,"column":10,"nodeType":"89","messageId":"90","endLine":1,"endColumn":15},{"ruleId":"91","severity":1,"message":"92","line":11,"column":6,"nodeType":"93","endLine":11,"endColumn":8,"suggestions":"102"},{"ruleId":"95","severity":1,"message":"96","line":26,"column":32,"nodeType":"97","messageId":"98","endLine":26,"endColumn":34},{"ruleId":"91","severity":1,"message":"100","line":96,"column":8,"nodeType":"93","endLine":96,"endColumn":29,"suggestions":"103"},"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getNotes'. Either include it or remove the dependency array.","ArrayExpression",["104"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Route' is defined but never used.","React Hook useEffect has a missing dependency: 'updateToken'. Either include it or remove the dependency array.",["105"],["106"],["107"],{"desc":"108","fix":"109"},{"desc":"110","fix":"111"},{"desc":"108","fix":"112"},{"desc":"110","fix":"113"},"Update the dependencies array to be: [getNotes]",{"range":"114","text":"115"},"Update the dependencies array to be: [authTokens, loading, updateToken]",{"range":"116","text":"117"},{"range":"118","text":"115"},{"range":"119","text":"117"},[284,286],"[getNotes]",[2788,2809],"[authTokens, loading, updateToken]",[284,286],[2788,2809]]